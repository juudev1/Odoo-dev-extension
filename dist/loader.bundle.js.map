{"version":3,"file":"loader.bundle.js","mappings":"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","sources":["webpack://odoo_dev/./src/injected/core/extension-core.js","webpack://odoo_dev/./src/injected/index.js"],"sourcesContent":["// src/injected/core/extension-core.js\r\nclass ExtensionCore {\r\n    static #extensionData = null;\r\n    static #initialized = false;\r\n    static #resolveInitPromise = null;\r\n    static #rejectInitPromise = null;\r\n    static #initPromise = null;\r\n    static #timeoutId = null;\r\n    static #isEnabled = true; // Default, will be updated\r\n\r\n    static init() {\r\n        if (this.#initialized) return Promise.resolve(this.#extensionData);\r\n        if (this.#initPromise) return this.#initPromise;\r\n\r\n        this.#initPromise = new Promise((resolve, reject) => {\r\n            this.#resolveInitPromise = resolve;\r\n            this.#rejectInitPromise = reject;\r\n\r\n            this.#timeoutId = setTimeout(() => {\r\n                console.error('[ExtensionCore] Timeout waiting for EXTENSION_INIT message.');\r\n                this.#rejectInitPromise(new Error('Timeout waiting for extension data'));\r\n                window.removeEventListener('message', this.#handleInitMessageWrapper);\r\n            }, 5000);\r\n\r\n            // Use a wrapper function for the event listener so 'this' refers to ExtensionCore\r\n            window.addEventListener('message', this.#handleInitMessageWrapper);\r\n\r\n            // console.log('[ExtensionCore] Requesting EXTENSION_INIT data...');\r\n            window.postMessage({ type: 'REQUEST_EXTENSION_INIT' }, '*');\r\n        });\r\n        return this.#initPromise;\r\n    }\r\n\r\n    // Wrapper to ensure 'this' context is correct for static method\r\n    static #handleInitMessageWrapper = (event) => {\r\n        this.#handleInitMessage(event);\r\n    }\r\n\r\n    static #handleInitMessage = (event) => {\r\n        if (event.source === window && event.data && (event.data.type === 'EXTENSION_INIT' || event.data.type === 'EXTENSION_INIT_ERROR')) {\r\n            clearTimeout(this.#timeoutId);\r\n            window.removeEventListener('message', this.#handleInitMessageWrapper);\r\n\r\n            if (event.data.type === 'EXTENSION_INIT_ERROR') {\r\n                console.error('[ExtensionCore] Received EXTENSION_INIT_ERROR:', event.data.error);\r\n                this.#initialized = false; // Mark as not initialized properly\r\n                if (this.#rejectInitPromise) {\r\n                    this.#rejectInitPromise(new Error(event.data.error || 'Failed to initialize extension data'));\r\n                }\r\n            } else {\r\n                console.log('[ExtensionCore] Received EXTENSION_INIT:', event.data.data);\r\n                this.#extensionData = event.data.data;\r\n                this.#isEnabled = this.#extensionData.isEnabled !== false; // Update enabled state\r\n                this.#initialized = true;\r\n                if (this.#resolveInitPromise) {\r\n                    this.#resolveInitPromise(this.#extensionData);\r\n                }\r\n            }\r\n            this.#resolveInitPromise = null;\r\n            this.#rejectInitPromise = null;\r\n        }\r\n    }\r\n\r\n    static getUrl(path = '') {\r\n        if (!this.#initialized) throw new Error('Extension not initialized');\r\n        return `${this.#extensionData.url}${path}`;\r\n    }\r\n\r\n    static get resources() {\r\n        if (!this.#isEnabled) return { templates: [], css: [] }; // Return empty if disabled\r\n        return {\r\n            templates: [\r\n                this.getUrl('src/injected/views/list/list_renderer.xml'),\r\n                this.getUrl('src/injected/views/list/sale_order_line.xml'),\r\n                this.getUrl('src/injected/views/form/form_view.xml'),\r\n                this.getUrl('src/injected/views/field.xml'),\r\n                this.getUrl('src/injected/views/view_button/view_button.xml'),\r\n                this.getUrl('src/injected/views/custom/sidebar_dev.xml'),\r\n            ],\r\n            css: [\r\n                this.getUrl('src/injected/tooltip/css/tooltip.css'),\r\n                this.getUrl('src/injected/views/custom/sidebar_dev.css'),\r\n            ],\r\n        };\r\n    }\r\n\r\n    static get extensionData() {\r\n        return this.#extensionData;\r\n    }\r\n\r\n    static get isEnabled() {\r\n        // Ensure init has run to get the latest state, but don't block indefinitely if init failed\r\n        if (!this.#initialized && this.#initPromise) {\r\n            console.warn(\"[ExtensionCore] isEnabled accessed before full initialization, relying on default or last known state.\");\r\n        }\r\n        return this.#isEnabled;\r\n    }\r\n\r\n    /**\r\n     * Returns the allowed URLs where the extension can execute\r\n     * @returns {Object} Object containing allowed and excluded URL patterns\r\n     */\r\n    static getAllowedUrls() {\r\n        return {\r\n            // URLs where the extension is allowed to run\r\n            allowedPatterns: [\r\n                \"<all_urls>\" // The extension runs on all URLs by default\r\n            ],\r\n            \r\n            // URLs where the extension is specifically excluded\r\n            excludedPatterns: [\r\n                \"https://*/web/login*\", // Login pages are excluded\r\n                \"https://*/jobs/*\",     // Jobs pages are excluded\r\n                \"http://*/jobs/*\"       // Jobs pages on HTTP are also excluded\r\n            ],\r\n            \r\n            // Specific conditions for Odoo module injection\r\n            odooModuleConditions: {\r\n                // Web module paths (where main Odoo functionality is injected)\r\n                webModulePaths: [\r\n                    \"/web\", // General web interface (backend)\r\n                    \"/odoo\" // Odoo specific paths\r\n                ],\r\n                \r\n                // Excluded web paths (even within /web)\r\n                excludedWebPaths: [\r\n                    \"/web/login\", // Login page\r\n                    \"/web/signup\", // Signup page\r\n                    \"/web/jobs\" // Jobs page\r\n                ],\r\n                \r\n                // Portal/Frontend paths that should be excluded\r\n                portalPaths: [\r\n                    \"/shop\",\r\n                    \"/blog\", \r\n                    \"/event\",\r\n                    \"/slides\",\r\n                    \"/forum\",\r\n                    \"/jobs\",\r\n                    \"/contactus\",\r\n                    \"/aboutus\",\r\n                    \"/page/\",\r\n                    \"/website\",\r\n                    \"/survey\"\r\n                ],\r\n                \r\n                // Additional conditions\r\n                hasFileInput: \"presence of file input elements triggers injection\",\r\n                requiresBackendContext: \"extension only works in Odoo backend context\"\r\n            },\r\n            \r\n            // Method to check if current URL is allowed for extension execution\r\n            isCurrentUrlAllowed: function() {\r\n                const currentUrl = window.location.href;\r\n                const currentPath = window.location.pathname;\r\n                \r\n                // Check if current URL matches excluded patterns\r\n                const isExcluded = this.excludedPatterns.some(pattern => {\r\n                    if (pattern.includes(\"*/web/login*\")) {\r\n                        return currentPath.includes('/web/login');\r\n                    }\r\n                    if (pattern.includes(\"*/jobs/*\")) {\r\n                        return currentPath.includes('/jobs');\r\n                    }\r\n                    return false;\r\n                });\r\n                \r\n                if (isExcluded) {\r\n                    let excludeReason = \"unknown exclusion\";\r\n                    if (currentPath.includes('/web/login')) {\r\n                        excludeReason = \"login page exclusion\";\r\n                    } else if (currentPath.includes('/jobs')) {\r\n                        excludeReason = \"jobs page exclusion\";\r\n                    }\r\n                    \r\n                    return {\r\n                        allowed: false,\r\n                        reason: \"URL matches excluded pattern\",\r\n                        pattern: excludeReason\r\n                    };\r\n                }\r\n                \r\n                // Since we use <all_urls>, extension can run everywhere except excluded\r\n                return {\r\n                    allowed: true,\r\n                    reason: \"URL matches allowed patterns\",\r\n                    pattern: \"<all_urls>\"\r\n                };\r\n            },\r\n            \r\n            // Method to check if current URL should have Odoo modules injected\r\n            shouldInjectOdooModules: function() {\r\n                const currentPath = window.location.pathname;\r\n                const hasFileInput = document.querySelector('input[type=\"file\"]') !== null;\r\n                \r\n                // Check if current path is excluded\r\n                const isExcludedPath = this.odooModuleConditions.excludedWebPaths.some(excludedPath => \r\n                    currentPath.includes(excludedPath)\r\n                );\r\n                \r\n                // Also check for jobs routes (like /jobs/apply/*)\r\n                const isJobsPath = currentPath.includes('/jobs');\r\n                \r\n                // Detect portal/frontend views by checking for common indicators\r\n                const isPortalView = this._detectPortalView();\r\n                \r\n                // Check if it's a backend web module (admin interface)\r\n                const isBackendWebModule = (\r\n                    currentPath.includes('/web') && \r\n                    !isExcludedPath && \r\n                    !isPortalView &&\r\n                    this._isBackendContext()\r\n                );\r\n                \r\n                // Check if it's an Odoo specific path (usually backend)\r\n                const isOdooModule = (\r\n                    currentPath.includes('/odoo') && \r\n                    !isExcludedPath && \r\n                    !isPortalView\r\n                );\r\n                \r\n                const shouldInject = (isBackendWebModule || isOdooModule) && !isJobsPath;\r\n                \r\n                return {\r\n                    shouldInject,\r\n                    reasons: {\r\n                        isBackendWebModule,\r\n                        isOdooModule,\r\n                        hasFileInput,\r\n                        currentPath,\r\n                        isExcludedPath,\r\n                        isJobsPath,\r\n                        isPortalView,\r\n                        excludedPaths: this.odooModuleConditions.excludedWebPaths\r\n                    }\r\n                };\r\n            },\r\n            \r\n            // Helper method to detect if current page is a portal/frontend view\r\n            _detectPortalView: function() {\r\n                const currentPath = window.location.pathname;\r\n                \r\n                // Common portal/frontend paths\r\n                const portalPaths = [\r\n                    '/shop',\r\n                    '/blog',\r\n                    '/event',\r\n                    '/slides',\r\n                    '/forum',\r\n                    '/jobs',\r\n                    '/contactus',\r\n                    '/aboutus',\r\n                    '/page/',\r\n                    '/website',\r\n                    '/survey'\r\n                ];\r\n                \r\n                // Check if path matches portal patterns\r\n                const hasPortalPath = portalPaths.some(path => currentPath.includes(path));\r\n                \r\n                // Check for frontend-specific elements in DOM\r\n                const hasFrontendAssets = document.querySelector('link[href*=\"web.assets_frontend\"]') !== null;\r\n                const hasWebsiteAssets = document.querySelector('link[href*=\"website.assets\"]') !== null;\r\n                \r\n                // Check if we're NOT in the backend by looking for backend-specific elements\r\n                const hasBackendAssets = document.querySelector('link[href*=\"web.assets_backend\"]') !== null;\r\n                const hasWebClient = document.querySelector('.o_web_client') !== null;\r\n                \r\n                return hasPortalPath || (hasFrontendAssets || hasWebsiteAssets) && !hasBackendAssets;\r\n            },\r\n            \r\n            // Helper method to detect backend context\r\n            _isBackendContext: function() {\r\n                // Look for backend-specific indicators\r\n                const hasBackendAssets = document.querySelector('link[href*=\"web.assets_backend\"]') !== null;\r\n                const hasWebClient = document.querySelector('.o_web_client') !== null;\r\n                const hasActionManager = document.querySelector('.o_action_manager') !== null;\r\n                const hasControlPanel = document.querySelector('.o_control_panel') !== null;\r\n                \r\n                // Check URL patterns that typically indicate backend\r\n                const currentPath = window.location.pathname;\r\n                const backendPatterns = [\r\n                    '/web#',\r\n                    '/web?',\r\n                    '/web/database',\r\n                    '/web/webclient'\r\n                ];\r\n                \r\n                const hasBackendUrl = backendPatterns.some(pattern => \r\n                    currentPath.includes(pattern) || window.location.href.includes(pattern)\r\n                );\r\n                \r\n                return hasBackendAssets || hasWebClient || hasActionManager || hasControlPanel || hasBackendUrl;\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport default ExtensionCore;","// src/injected/index.js\r\nimport ExtensionCore from './core/extension-core.js';\r\n\r\nasync function waitForOdooReady(timeout = 15000) { // Wait up to 15 seconds\r\n    return new Promise((resolve, reject) => {\r\n        const startTime = Date.now();\r\n        const interval = setInterval(() => {\r\n            if (typeof odoo !== 'undefined' && typeof odoo.define === 'function' && odoo.runtime && odoo.runtime.app && odoo.runtime.app.env) {\r\n                clearInterval(interval);\r\n                console.log('[Odoo Dev Index] Odoo environment appears ready.');\r\n                resolve();\r\n            } else if (Date.now() - startTime > timeout) {\r\n                clearInterval(interval);\r\n                console.warn('[Odoo Dev Index] Timeout waiting for Odoo to be ready. Extension might not work correctly.');\r\n                reject(new Error('Timeout waiting for Odoo ready state.'));\r\n            } else if (typeof odoo !== 'undefined' && typeof odoo.define === 'function' && (!odoo.runtime || !odoo.runtime.app)) {\r\n                console.log('[Odoo Dev Index] Odoo define is ready, but odoo.runtime.app not yet...');\r\n            }\r\n\r\n        }, 200); // Check every 200ms\r\n    });\r\n}\r\n\r\nasync function initializeOdooDev() {\r\n    \"use strict\";\r\n\r\n    try {\r\n        // 0. Early check to avoid loading in inappropriate contexts\r\n        // console.log(\"[Odoo Dev Index] Performing early context validation...\");\r\n        const earlyUrlCheck = ExtensionCore.getAllowedUrls();\r\n        const earlyInjectionCheck = earlyUrlCheck.shouldInjectOdooModules();\r\n        \r\n        if (!earlyInjectionCheck.shouldInject) {\r\n            console.log(\"[Odoo Dev Index] Early validation failed - skipping initialization\");\r\n            console.log(\"[Odoo Dev Index] Early rejection reasons:\", earlyInjectionCheck.reasons);\r\n            return; // Exit early without initializing anything\r\n        }\r\n        \r\n        // 1. Initialize ExtensionCore to get basic data (URL, etc.)\r\n        // console.log(\"[Odoo Dev Index] Initializing ExtensionCore...\");\r\n        await ExtensionCore.init();\r\n        window.ExtensionCore = ExtensionCore; // Make it globally available\r\n        // console.log(\"[Odoo Dev Index] ExtensionCore initialized. Extension Enabled:\", ExtensionCore.isEnabled);\r\n\r\n        if (!ExtensionCore.isEnabled) {\r\n            console.log(\"[Odoo Dev Index] Extension is disabled by configuration. Halting Odoo module injections.\");\r\n            // Any previously injected elements/patches from a prior enabled state\r\n            // will be gone due to the page reload forced by contentScriptIsolated.js.\r\n            return;\r\n        }\r\n\r\n        const extensionUrl = ExtensionCore.getUrl();\r\n        const srcFolder = extensionUrl + \"src/injected/\";\r\n\r\n        // Create a script global with the URL of the extension\r\n        const globalUrlScript = document.createElement(\"script\");\r\n        globalUrlScript.textContent = `window.__devExtensionUrl = \"${extensionUrl}\";`;\r\n        document.head.appendChild(globalUrlScript);\r\n\r\n        // Function to dynamically load scripts\r\n        function loadScript(path) {\r\n            const url = new URL(path, srcFolder);\r\n            // console.log(\"[Odoo Dev Index] Requesting script:\", path);\r\n            return new Promise((resolve, reject) => {\r\n                let script = document.createElement(\"script\");\r\n                script.src = url.href;\r\n                script.type = \"module\"; // Assuming all are modules\r\n                script.onload = () => {\r\n                    // console.log(\"[Odoo Dev Index] Loaded script:\", path);\r\n                    resolve(path);\r\n                };\r\n                script.onerror = (err) => {\r\n                    const errorMsg = `Failed to load script: ${path} from ${url.href}`;\r\n                    console.error(\"[Odoo Dev Index]\", errorMsg, err);\r\n                    reject(new Error(errorMsg));\r\n                };\r\n                document.head.appendChild(script);\r\n            });\r\n        }\r\n\r\n        // Check if we should inject modules\r\n        const urlCheck = ExtensionCore.getAllowedUrls();\r\n        const injectionCheck = urlCheck.shouldInjectOdooModules();\r\n        \r\n        // console.log(\"[Odoo Dev Index] URL analysis:\", {\r\n        //     currentUrl: window.location.href,\r\n        //     isAllowed: urlCheck.isCurrentUrlAllowed(),\r\n        //     shouldInject: injectionCheck\r\n        // });\r\n\r\n        if (injectionCheck.shouldInject) {\r\n            // console.log(\"[Odoo Dev Index] Conditions met, injecting Odoo modules...\");\r\n            // console.log(\"[Odoo Dev Index] Injection reasons:\", injectionCheck.reasons);\r\n            \r\n            // Additional safety check: ensure we're in a valid Odoo backend context\r\n            if (injectionCheck.reasons.isPortalView) {\r\n                console.warn(\"[Odoo Dev Index] Portal view detected - aborting injection to prevent template errors\");\r\n                return;\r\n            }\r\n\r\n            // 2. Load odoo_version_utils.js (needed by bundle_xml.js)\r\n            // This defines 'odoo_dev.version_utils'\r\n            await loadScript(\"./utils/odoo_version_utils.js\");\r\n\r\n            // 3. Load bundle_xml.js (defines 'odoo_dev.bundle.xml' and how to load templates)\r\n            // This module itself requires 'odoo_dev.version_utils'\r\n            await loadScript(\"./templates/bundle_xml.js\");\r\n\r\n            // 4. Load client.js. This script file contains an odoo.define that\r\n            //    will internally load templates using 'odoo_dev.bundle.xml'.\r\n            //    It also sets up `window.odooDevClientReadyPromise`.\r\n            await loadScript(\"./core/client.js\");\r\n\r\n            // 5. IMPORTANT: Wait for client.js's *internal* async operations (template loading) to complete.\r\n            // console.log(\"[Odoo Dev Index] Waiting for client.js internal initialization (template/CSS loading)...\");\r\n            if (window.odooDevClientReadyPromise) {\r\n                await window.odooDevClientReadyPromise;\r\n                // console.log(\"[Odoo Dev Index] client.js has finished its internal initialization.\");\r\n            } else {\r\n                // This should not happen if client.js is structured correctly\r\n                console.warn(\"[Odoo Dev Index] window.odooDevClientReadyPromise was not set by client.js. Proceeding, but templates might not be ready.\");\r\n            }\r\n\r\n            // 6. Now that templates are loaded, load all other scripts.\r\n            // console.log(\"[Odoo Dev Index] Loading remaining UI components and patches...\");\r\n            const remainingScripts = [\r\n                // ExtensionCore is already an ES Module import, no need to loadScript it.\r\n                // bundle_xml.js and client.js already loaded.\r\n                // odoo_version_utils.js already loaded.\r\n\r\n                // ****** Services ******\r\n                \"./tooltip/js/dev_info_service.js\",\r\n                \"./services/active_record.js\",\r\n\r\n                // ****** Components ******\r\n                \"./views/custom/field_xpath.js\",\r\n\r\n                \"./views/custom/sidebar_dev.js\", // Antes que el form_controller.js para que se actualice el resModel\r\n                \"./views/form/form_controller.js\",\r\n                \"./views/list/list_controller.js\",\r\n                // ****** Webclient Patches ******\r\n                \"./webclient.js\",\r\n\r\n                \"./tooltip/js/tooltip.js\",\r\n\r\n                \"./views/form/form_compiler.js\",\r\n                \"./views/list/list_renderer.js\",\r\n                \"./views/list/sale_order_line.js\",\r\n                \"./views/view_button/view_button.js\",\r\n                \"./views/field.js\",\r\n                \"./form_label.js\"\r\n            ];\r\n\r\n            // Load remaining scripts in parallel\r\n            await Promise.all(remainingScripts.map(scriptPath => loadScript(scriptPath)\r\n                .catch(err => {\r\n                    // Log individual script load errors but don't necessarily stop all others\r\n                    console.error(`[Odoo Dev Index] Non-critical error loading script: ${err.message}. Some features might be affected.`);\r\n                })\r\n            ));\r\n\r\n            // console.log(\"[Odoo Dev Index] All specified injected scripts have been processed.\");\r\n\r\n        } else {\r\n            console.log(\"[Odoo Dev Index] Conditions not met, no Odoo modules injected.\");\r\n            console.log(\"[Odoo Dev Index] Rejection reasons:\", injectionCheck.reasons);\r\n        }\r\n    } catch (error) {\r\n        console.error(\"[Odoo Dev Index] Critical error during extension initialization:\", error);\r\n    }\r\n}\r\n\r\n(async () => {\r\n    // The `REQUEST_EXTENSION_INIT` message will be sent by ExtensionCore.init()\r\n    // The response `EXTENSION_INIT` will be handled by ExtensionCore.init()'s promise.\r\n    // Then initializeOdooDev will run.\r\n    await initializeOdooDev();\r\n})();"],"names":["ExtensionCore","_classCallCheck","key","value","_this","_assertClassBrand","this","_initialized","_","Promise","resolve","_extensionData","_initPromise","reject","_resolveInitPromise","_rejectInitPromise","_timeoutId","setTimeout","console","error","call","Error","window","removeEventListener","_handleInitMessageWrapper","addEventListener","postMessage","type","path","arguments","length","undefined","concat","url","get","_isEnabled","templates","getUrl","css","warn","allowedPatterns","excludedPatterns","odooModuleConditions","webModulePaths","excludedWebPaths","portalPaths","hasFileInput","requiresBackendContext","isCurrentUrlAllowed","location","href","currentPath","pathname","some","pattern","includes","excludeReason","allowed","reason","shouldInjectOdooModules","document","querySelector","isExcludedPath","excludedPath","isJobsPath","isPortalView","_detectPortalView","isBackendWebModule","_isBackendContext","isOdooModule","shouldInject","reasons","excludedPaths","hasPortalPath","hasFrontendAssets","hasWebsiteAssets","hasBackendAssets","hasWebClient","hasActionManager","hasControlPanel","hasBackendUrl","_ExtensionCore","event","_handleInitMessage","source","data","clearTimeout","log","isEnabled","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","__await","then","callInvokeWithMethodAndArg","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","_asyncToGenerator","apply","_next","_throw","initializeOdooDev","_initializeOdooDev","_callee3","loadScript","earlyUrlCheck","earlyInjectionCheck","extensionUrl","srcFolder","globalUrlScript","urlCheck","injectionCheck","remainingScripts","_context3","URL","script","createElement","src","onload","onerror","err","errorMsg","head","appendChild","getAllowedUrls","init","textContent","odooDevClientReadyPromise","all","map","scriptPath","message","t0","_callee","_context"],"sourceRoot":""}